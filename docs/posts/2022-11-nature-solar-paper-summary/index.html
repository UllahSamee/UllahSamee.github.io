<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gang He">
<meta name="dcterms.date" content="2022-11-21">
<meta name="description" content="Dr.&nbsp;Gang He is an energy scholar, researcher, and teacher. He studies energy systems modeling, energy and climate policy, and clean energy transition. Key words: Energy systems analysis, energy and climate policy, clean energy transition, decarbonization and carbon neutrality">

<title>Dr.&nbsp;Gang He - The Cost of Going Solo in Solar</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-G4DYZHP5J7"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-G4DYZHP5J7', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Dr.&nbsp;Gang He - The Cost of Going Solo in Solar">
<meta property="og:description" content="A summary of our 2022 Nature paper.">
<meta property="og:image" content="https://drganghe.github.io/posts/2022-11-nature-solar-paper-summary/featured.jpeg">
<meta property="og:site-name" content="Dr. Gang He">
<meta name="twitter:title" content="Dr.&nbsp;Gang He - The Cost of Going Solo in Solar">
<meta name="twitter:description" content="A summary of our 2022 Nature paper.">
<meta name="twitter:image" content="https://drganghe.github.io/posts/2022-11-nature-solar-paper-summary/featured.jpeg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Dr.&nbsp;Gang He</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-newsevents" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">News&amp;Events</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-newsevents">    
        <li>
    <a class="dropdown-item" href="../../posts.html#category=news" rel="" target="">
 <span class="dropdown-text">News</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts.html#category=event" rel="" target="">
 <span class="dropdown-text">Events</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-publications" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Publications</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-publications">    
        <li>
    <a class="dropdown-item" href="../../posts.html#category=paper" rel="" target="">
 <span class="dropdown-text">Selected Papers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts.html#category=commentary" rel="" target="">
 <span class="dropdown-text">Commentary</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts.html#category=testimony" rel="" target="">
 <span class="dropdown-text">Testimony</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../publications.html" rel="" target="">
 <span class="dropdown-text">List of Publication</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../files/Gang-He-CV.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/drganghe" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/DrGangHe" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../posts.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a></li>
  <li><a href="#learning-in-global-versus-national-markets" id="toc-learning-in-global-versus-national-markets" class="nav-link" data-scroll-target="#learning-in-global-versus-national-markets">Learning in Global Versus National Markets</a></li>
  <li><a href="#what-about-jobs" id="toc-what-about-jobs" class="nav-link" data-scroll-target="#what-about-jobs">What About Jobs?</a></li>
  <li><a href="#what-about-diversification" id="toc-what-about-diversification" class="nav-link" data-scroll-target="#what-about-diversification">What About Diversification?</a></li>
  <li><a href="#policy-implications" id="toc-policy-implications" class="nav-link" data-scroll-target="#policy-implications">Policy Implications</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Cost of Going Solo in Solar</h1>
  <div class="quarto-categories">
    <div class="quarto-category">commentary</div>
  </div>
  </div>

<div>
  <div class="description">
    A summary of our 2022 <em>Nature</em> paper.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>John Paul Helveston </p>
             <p>Gang He </p>
             <p>Michael R. Davidson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 21, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>In a new <a href="../../posts/2022-10-nature-cost-savings-of-global-solar-pv-value-chains/index.html">study</a> <span class="citation" data-cites="helveston_he_davidson_2022">Helveston, He, and Davidson (<a href="#ref-helveston_he_davidson_2022" role="doc-biblioref">2022</a>)</span> published in <a href="https://www.nature.com/articles/s41586-022-05316-6"><em>Nature</em></a>, we quantify the cost savings from globalized solar module supply chains. We found globalized supply chain has saved installers in the U.S., Germany, and China 67 billion USD from 2008 to 2020. Unit solar module prices would be approximately 20-30% higher in 2030 if countries move to manufacture domestically compared with a future with globalized supply chains.</p>
</section>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>Three decades. That is how much time is left to decarbonize the world’s energy systems to limit global warming to 1.5°C, according to the latest <a href="https://www.ipcc.ch/report/ar6/wg1/downloads/report/IPCC_AR6_WGI_SPM_final.pdf#page=33">Intergovernmental Panel on Climate Change (IPCC) report</a>. Achieving this feat requires renewable energy systems be deployed at an unprecedented speed and scale. While daunting, the good news is that this transformation may not cost as much as many expected just a decade ago, thanks to rapid cost declines in renewable energy technologies. Solar photovoltaics (PV) is a prime example. In the last decade, the price of solar modules has <a href="https://www.irena.org/publications/2022/Jul/Renewable-Power-Generation-Costs-in-2021">dropped 88 percent</a>, making solar cost-competitive with fossil fuels in many parts of the world.</p>
<p>This <a href="https://www.howsolargotcheap.com/">remarkable success story</a> was made possible by the decades-long free flow of goods, talent and capital across multiple countries involved in the solar industry. But the learning processes that have led to these rapid declines are increasingly at risk from policies aimed at localizing production to within national borders and moving away from global supply chains. Such policies have become increasingly popular, in part due to supply chain disruptions experienced during the COVID-19 pandemic and, perhaps more notably, in response to the concentration of the solar PV supply chain in China, which now comprises <a href="https://doi.org/10.1051/epjpv/2022010">78% of global PV module production</a> (see <a href="#fig-pv-by-origin" class="quarto-xref">Figure&nbsp;1</a>).</p>
<div id="fig-pv-by-origin" class="quarto-figure quarto-figure-left anchored">
<figure class="figure">
<p><img src="fig-1-solar-production-by-origin.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Annual solar PV cell production by origin, 2010–2021.</figcaption>
</figure>
</div>
<p>We have been studying this phenomenon for years, trying to understand the cost of erecting barriers to international cooperation when it comes to the development and deployment of low carbon energy technologies (LCETs) like solar PV. In our recent paper published in <a href="https://www.nature.com/articles/s41586-022-05316-6"><em>Nature</em></a>, we model the cost of moving away from global supply chains for solar PV modules, concluding that tens of billions of dollars have been saved in solar deployment over the past decade thanks to global supply chains.</p>
</section>
<section id="learning-in-global-versus-national-markets" class="level2">
<h2 class="anchored" data-anchor-id="learning-in-global-versus-national-markets">Learning in Global Versus National Markets</h2>
<p>In our paper, we use historical deployment and price data in the U.S., Germany, and China—the three largest solar-deploying countries—to model the cost savings from historical global cooperation in the solar PV industry. Using the classic <a href="https://en.wikipedia.org/wiki/Learning_curve">learning curve</a> model, we model historical learning rates in each country from 2006 to 2020, which we call a period of learning in “global market” conditions. We then simulate a counterfactual “national markets” scenario, in which these countries adopt nationalistic trade policies that limit cross-border learning over the same period.</p>
<p>Our results show a total of $67 billion was saved in solar deployment from 2008 to 2020 thanks to global supply chains ($24 billion, $36 billion, and $7 billion in the U.S., China, and Germany, respectively). We also estimate that under the “national markets” scenario, solar panel prices in 2020 would have been significantly higher—107% higher in the U.S., 83% higher in Germany, and 54% higher in China (see <a href="#fig-prices-national-vs-global" class="quarto-xref">Figure&nbsp;2</a>).</p>
<div id="fig-prices-national-vs-global" class="quarto-figure quarto-figure-left anchored">
<figure class="figure">
<p><img src="fig-2-prices-in-national-global-markets.png" class="img-fluid figure-img" style="width:95.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Comparison of estimated solar PV module prices under global versus national market scenarios in China (2007–2020), and Germany and the United States (2006–2020).</figcaption>
</figure>
</div>
<p>We also compare how these two scenarios might play out going forward. Assuming that capacity grows at a constant annual growth rate (CAGR), we estimate that solar module prices could be 20%-30% higher in 2030 than they otherwise would be if countries move to complete domestic manufacturing over a ten-year time frame.</p>
</section>
<section id="what-about-jobs" class="level2">
<h2 class="anchored" data-anchor-id="what-about-jobs">What About Jobs?</h2>
<p>While we focus on cost in our paper, we offer a discussion of other important issues in the solar PV industry. Jobs is a politically salient issue that is often used to motivate moving solar manufacturing to the U.S. (or another country). But this motivation is inconsistent with industry realities.</p>
<p>The National Renewable Energy Laboratory estimates that there are <a href="https://www.nrel.gov/docs/fy21osti/79758.pdf">ten times</a> more annual jobs in system installation compared with those in the entire manufacturing supply chain. As a result, higher module prices associated with nationalistic policies could lead to lower total deployment, costing potentially thousands more jobs than those gained in manufacturing, which is highly automated in most modern module manufacturing plants.</p>
<p>This reality has already played out under the tariffs on imported solar PV modules from China, which have been in place over the past three U.S. administrations. The Solar Energy Industries Association estimated that Section 201 tariffs implemented under the Trump administration has cost the industry <a href="https://www.seia.org/research-resources/high-cost-tariffs">60,000 jobs</a>, and if new tariffs are added that number could <a href="https://www.seia.org/news/tariff-case-cuts-solar-deployment-forecasts-nearly-half-100000-jobs-risk">rise to 100,000</a>. Lowering or completely removing these tariffs would almost certainly accelerate solar deployment (and job growth) in the U.S., especially with the tax credit incentives put in place under the Inflation Reduction Act.</p>
</section>
<section id="what-about-diversification" class="level2">
<h2 class="anchored" data-anchor-id="what-about-diversification">What About Diversification?</h2>
<p>Reliance on a single set of countries in critical supply chains introduces risks to global disruptions, and a diversified solar PV manufacturing base can provide a layer of resilience. A related article in <a href="https://www.science.org/doi/epdf/10.1126/science.abq5446"><em>Science</em></a>, <span class="citation" data-cites="davidson2022risks">Davidson et al. (<a href="#ref-davidson2022risks" role="doc-biblioref">2022</a>)</span> provides a framework for balancing the economic and national security risks from decoupling from China in mature and emerging low-carbon technologies. Nonetheless, it is also important to consider the risks associated with continued dependence on fossil fuels for energy. While fossil energy prices are highly susceptible to global disruptions, renewable energy systems have no fuel cost. Furthermore, a dependency now on a country like China for solar panels may not exist forever as manufacturing can shift over time; in contrast, fossil energy sources are geographically fixed, limiting potential future trade partners.</p>
<p>Of course, countries may choose to diversify for ethical reasons too. The Xinjiang region of China has been come under increased scrutiny from allegations of forced labor. Most of the world’s solar-grade polysilicon is produced in Xinjiang, and policies such as the Biden Administration’s <a href="https://www.cbp.gov/trade/forced-labor/UFLPA">Uyghur Forced Labor Prevention Act</a> are aimed at limiting trade with products made in this region. The solar industry has responded with proposed protocols for tracing upstream material supplies, which is an initial step in addressing the issue, but more needs to be done.</p>
</section>
<section id="policy-implications" class="level2">
<h2 class="anchored" data-anchor-id="policy-implications">Policy Implications</h2>
<p>In a related <a href="https://www.science.org/doi/10.1126/science.aaz1014">article in <em>Science</em></a>, <span class="citation" data-cites="helveston2019china">Helveston and Nahm (<a href="#ref-helveston2019china" role="doc-biblioref">2019</a>)</span> highlighted China’s critical role in scaling up manufacturing in LCET sectors, including solar, wind, electric vehicles and batteries. Global trade will be critical for scaling up the deployment of these technologies all over the world. While efforts to boost domestic manufacturing of and demand for renewable energy technologies are steps in the right direction, we must not lose site of the timeline left to decarbonize. Erecting barriers to the free flow of goods, talent, and capital in LCET sectors will limit the ability to address the looming climate crisis.</p>
<p>This does not mean the U.S. should abandon solar manufacturing. The world will need more supply to meet the scale of deployment necessary for climate goals, and more solar manufacturers adds resiliency to disruptive events such as pandemics and conflicts. As an R&amp;D leader, the U.S. could very likely lead in developing (and potentially manufacturing) the next-generation of solar PV technology. But the U.S. should not penalize firms for buying low-cost, high-quality panels from abroad, not when cost is still a barrier to greater solar adoption.</p>
<p>There is a Chinese idiom that has a close corollary in the English-speaking world: 同舟共济(tóng zhōu gòng jì), which roughly translates to “same boat, work together.” Time is not on our side. Countries like the U.S. and China must find a way to address their geopolitical differences while simultaneously working together to lower the cost of LCETs, close <a href="https://www.unep.org/resources/emissions-gap-report-2022?gclid=Cj0KCQiA37KbBhDgARIsAIzce16RWcYDSbNbHM1nHzd4z6GMPt6Xexx1bMzhVGGbV46LPAxH74NqJw8aAmwVEALw_wcB">the emissions gap</a> and combat climate change.</p>
<p><a href="https://jhelvy.com/"><em>John Paul Helveston</em></a> <em>is an assistant professor at the George Washington University’s School of Engineering &amp; Applied Science. His area of expertise includes understanding the factors that shape technological change, with a particular focus on transitioning to more sustainable and energy-saving technologies.</em></p>
<p><a href="https://www.stonybrook.edu/commcms/est/people/core_faculty/ghe"><em>Gang He</em></a> <em>is an assistant professor in the Department of Technology and Society at Stony Brook University. His work focuses on energy modeling, energy and climate policy, energy and environment, domestic coal and power sectors and their key role in both the global energy supply and in international climate policy framework.</em></p>
<p><a href="https://gps.ucsd.edu/faculty-directory/michael-davidson.html"><em>Michael R. Davidson</em></a> <em>is an assistant professor at University of California San Diego’s School of Global Policy and Strategy and the Jacobs School of Engineering. His research focuses on the engineering implications and institutional conflicts inherent in deploying renewable energy at scale, with a particular interest in China, India, and the U.S.</em></p>
<p>Check the original post at <a href="https://www.newsecuritybeat.org/2022/11/cost-solo-solar/" target="_blank">New Security Beat</a>. Learn more about our <a href="../../posts/2022-10-nature-cost-savings-of-global-solar-pv-value-chains/index.html">paper</a>.</p>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-davidson2022risks" class="csl-entry" role="listitem">
Davidson, Michael R, Valerie J Karplus, Joanna I Lewis, Jonas Nahm, and Alex Wang. 2022. <span>“Risks of Decoupling from China on Low-Carbon Technologies.”</span> <em>Science</em> 377 (6612): 1266–69. <a href="https://doi.org/10.1126/science.abq5446">https://doi.org/10.1126/science.abq5446</a>.
</div>
<div id="ref-helveston_he_davidson_2022" class="csl-entry" role="listitem">
Helveston, John, Gang He, and Michael Davidson. 2022. <span>“Quantifying the Cost Savings of Global Solar Photovoltaic Supply Chains.”</span> <em>Nature</em> 612 (7938): 83–87. <a href="https://doi.org/10.1038/s41586-022-05316-6">https://doi.org/10.1038/s41586-022-05316-6</a>.
</div>
<div id="ref-helveston2019china" class="csl-entry" role="listitem">
Helveston, John, and Jonas Nahm. 2019. <span>“China’s Key Role in Scaling Low-Carbon Energy Technologies.”</span> <em>Science</em> 366 (6467): 794–96. <a href="https://doi.org/10.1126/science.aaz1014">https://doi.org/10.1126/science.aaz1014</a>.
</div>
</div>
<!--Include social share buttons-->
<!-- 
AddToAny check more: https://www.addtoany.com/buttons/for/website 
Using includes will make edits easier, will only need to add or remove button here if needed.
https://quarto.org/docs/authoring/includes.html
-->
<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
<p><a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_mastodon"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_email"></a></p>
</div>
<script async="" src="https://static.addtoany.com/menu/page.js"></script>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, function() {
      let href = xref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children.length > 2) {
          for (let i = 0; i < 2; i++) {
            container.appendChild(note.children[i].cloneNode(true));
          }
          return container.innerHTML
        } else {
          return note.innerHTML;
        }
      } else {
        return note.innerHTML;
      }
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/drganghe\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2023 <a href="http://drganghe.github.io">Gang He</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/drganghe/drganghe.github.io">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/DrGangHe">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="../../posts.xml">
      <i class="bi bi-rss" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>